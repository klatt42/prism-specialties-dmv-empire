# Image Directory Security and Optimization

# Allow access to image files
<Files "*">
    Order Allow,Deny
    Allow from all
</Files>

# Optimize image caching
<IfModule mod_expires.c>
    ExpiresActive On
    ExpiresByType image/png "access plus 1 year"
    ExpiresByType image/jpg "access plus 1 year"
    ExpiresByType image/jpeg "access plus 1 year"
    ExpiresByType image/gif "access plus 1 year"
    ExpiresByType image/svg+xml "access plus 1 year"
    ExpiresByType image/webp "access plus 1 year"
</IfModule>

# Set proper MIME types
<IfModule mod_mime.c>
    AddType image/svg+xml .svg
    AddType image/webp .webp
</IfModule>

# Enable compression for SVG files
<IfModule mod_deflate.c>
    <FilesMatch "\.(svg)$">
        SetOutputFilter DEFLATE
    </FilesMatch>
</IfModule>

# Prevent hotlinking (protect brand assets)
RewriteEngine On
RewriteCond %{HTTP_REFERER} !^$
RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?yourdomain\.com [NC]
RewriteCond %{HTTP_REFERER} !^http(s)?://(www\.)?prismspecialties\.com [NC]
RewriteRule \.(jpg|jpeg|png|gif|svg|webp)$ - [F]

# Block directory browsing
Options -Indexes

# Protect sensitive files
<FilesMatch "\.(md|txt|log)$">
    Order Allow,Deny
    Deny from all
</FilesMatch>